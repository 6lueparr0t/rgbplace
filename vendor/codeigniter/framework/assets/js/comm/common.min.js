"use strict";var signin=document.querySelector("#sign-in"),signup=document.querySelector("#sign-up"),signup_conf=document.querySelector("#sign-up input[name='conf']");(signin||signup||signup_conf)&&(signin.addEventListener("submit",function(){event.preventDefault(),signInCheck(signin)}),signup.addEventListener("submit",function(){event.preventDefault(),signUpCheck(signup)}),signup_conf.addEventListener("input",this.check));
function onUnload(){event.returnValue=1}
function check(){this.value!=document.querySelector("#sign-up input[name='pswd']").value?this.setCustomValidity("패스워드를 확인해주세요.\nPlease Check your Password."):this.setCustomValidity("")}
function signInCheck(e){var t=new FormData(e),n=new XMLHttpRequest,o="";n.open("post","/sign/in/check",!0),n.onload=function(){this.status>=200&&this.status<400&&(o=JSON.parse(this.response),o.valid?e.submit():alert(o.msg))},n.onprogress=function(){console.log("event.lengthComputable:"+event.lengthComputable),console.log("event.loaded:"+event.loaded),console.log("event.total:"+event.total)},n.onerror=function(){},n.send(t)}
function signUpCheck(e){window.addEventListener("beforeunload",onUnload);var n=new FormData(e),o=new XMLHttpRequest,t="";o.open("post","/sign/up/check",!0),o.onload=function(){this.status>=200&&this.status<400&&(t=JSON.parse(this.response),t.valid?e.submit():alert(t.msg))},o.onprogress=function(){console.log("event.lengthComputable:"+event.lengthComputable),console.log("event.loaded:"+event.loaded),console.log("event.total:"+event.total)},o.onerror=function(){},o.send(n)}