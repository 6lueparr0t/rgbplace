"use strict";var onUnload=function(){event.returnValue=1};
"use strict";function mapSearch(e){var t=new XMLHttpRequest,s="",l="",c=0;t.open("get","/map/search?keyword="+e.value,!0),t.onload=function(){if(this.status>=200&&this.status<400){if(l=JSON.parse(this.response),void 0!=l.code&&(c=l.code.length),0!=c)for(var e=[],t=0;t<c;t++){var a=l.place[t].split("&");e.country=l.country[t];for(var r=0;r<a.length;r++)e[a[r].split(":")[0]]=a[r].split(":")[1];var o=e.country.split("|")[0]+" "+e.locality.split("|")[0]+" "+e.political1.split("|")[0]+" "+e.political2.split("|")[0]+(e.political3?" "+e.political3.split("|")[0]:""),i=(e.political3?" "+e.political3.split("|")[0]:"")+", "+e.political2.split("|")[1]+", "+e.political1.split("|")[1]+", "+e.locality.split("|")[1]+", "+e.country;s+="<a href='/"+l.code[t]+"'><li class='org'>"+o+"</li><li class='rev'>"+i+"</li></a>"}else s="<a href='#'><li>No Results</li></a>";searchResult.innerHTML=s}else searchResult.innerHTML="No Results"},t.onprogress=function(){},t.onerror=function(){},t.send()}var searchResult=document.querySelector("#map-result"),searchBtn=document.querySelector("#map-search-button"),searchBox=document.querySelector("#map-search-box"),searchToggle=document.querySelector("#map-search");searchBtn&&searchBtn.addEventListener("click",function(){searchToggle.checked=!1,mapSearch(searchBox)}),searchBox&&searchBox.addEventListener("keyup",function(e){""==searchBox.value&&(searchToggle.checked=!1,searchResult.innerHTML="<a href='#'><li>No Results</li></a>"),"13"==e.keyCode&&(searchToggle.checked=!0,mapSearch(this))});
"use strict";function signInCheck(n){var s=new FormData(n),t=new XMLHttpRequest,e="";t.open("post","/sign/in/check",!0),t.onload=function(){this.status>=200&&this.status<400&&(e=JSON.parse(this.response),e.valid?n.submit():alert(e.msg))},t.onprogress=function(){},t.onerror=function(){},t.send(s)}var signin=document.querySelector("#sign-in");signin&&signin.addEventListener("submit",function(){event.preventDefault(),signInCheck(signin)});