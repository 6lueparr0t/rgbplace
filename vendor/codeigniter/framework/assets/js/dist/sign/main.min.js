"use strict";var signup=document.querySelector("#sign-up"),signUpConf=document.querySelector("#sign-up input[name='conf']"),signin=document.querySelector("#sign-in");function signInCheck(a){var b=new FormData(a),c=new XMLHttpRequest,d="";c.open("post","/sign/in/check",!0),c.onload=function(){200<=this.status&&400>this.status&&(d=JSON.parse(this.response),d.valid?a.submit():alert(d.msg))},c.onprogress=function(){},c.onerror=function(){},c.send(b)}function signUpCheck(a){var b=new FormData(a);httpRequest("POST","/sign/up/check",b,successSignUp.bind(a),null)}function successSignUp(a){a.valid?confirm("\uACC4\uC18D \uC9C4\uD589\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uC9C4\uD589 \uD6C4 \uD68C\uC6D0\uAC00\uC785 \uBC0F \uB85C\uADF8\uC778 \uCC98\uB9AC\uAC00 \uC644\uB8CC\uB429\uB2C8\uB2E4.\nConfirm. if you can exit, sign up success")&&this.submit():alert(a.msg)}function passwordCheck(){this.value==document.querySelector("#sign-up input[name='pswd']").value?this.setCustomValidity(""):this.setCustomValidity("\uD328\uC2A4\uC6CC\uB4DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.\nPlease Check your Password.")}var x;function sendCode(){var a=document.querySelector("[name='mail']").value,b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!1===b.test((a+"").toLowerCase()))return Swal.fire({type:"error",title:"Check Your Mail..",text:"Please enter a valid Mail address"}),!0;x||(document.querySelector("[name='check']").classList.add("disabled"),httpRequest("POST","/sign/mailAuth",JSON.stringify({mail:a}),function(a){if(!0==a.send){Swal.fire({type:"success",title:"Send Successfully!",text:"Check Your MailBox and Input Auth Code in an hour."}),clearInterval(x);var b=new Date().getTime()+3600000+1e3;x=setInterval(function(){var a=Math.floor,c=new Date().getTime(),d=b-c,e=a(d%3660000/60000),f=a(d%60000/1e3);document.getElementsByName("mail")[0].className="mail disabled",document.getElementsByName("code")[0].placeholder="Auth-Code "+e.pad(2)+":"+f.pad(2),0>d&&(clearInterval(x),x=null,document.getElementsByName("code")[0].placeholder="Auth-Code EXPIRED")},500)}else"over"==a.send?Swal.fire({type:"info",title:"Mail exceeded sending limit",text:"Please contact us. (admin@rgbplace.com)"}):"already"==a.send&&Swal.fire({type:"info",title:"Send Failed",text:"Your Mail Already used."})},null))}signin&&signin.addEventListener("submit",function(){event.preventDefault(),signInCheck(signin)}),signup&&signup.addEventListener("submit",function(){event.preventDefault(),signUpCheck(signup)}),signUpConf&&signUpConf.addEventListener("input",passwordCheck);