"use strict";function successGeolocation(a){console.log(a),document.querySelector("#geolocation-result-ko").value=JSON.stringify(a.ko,null,2),document.querySelector("#geolocation-result-en").value=JSON.stringify(a.en,null,2),document.querySelector("#geolocation-list-ko").innerHTML=getResultList(a.ko.results),document.querySelector("#geolocation-list-en").innerHTML=getResultList(a.en.results),document.querySelector("#creation").classList.remove("none")}function successCreation(){alert("Map was created")}function getResultList(a){var b,c,d="";for(var e in a){var f=[];for(var g in a[e].address_components)a[e].address_components[g].types.includes("postal_code")||(a[e].address_components[g].types.includes("country")&&(b=a[e].address_components[g].long_name,c=a[e].address_components[g].short_name),f.push("\""+a[e].address_components[g].long_name+"\""));d+="<div class='row' data-country='"+b+"' data-code='"+c+"'  data-array='["+f+"]' data-id='"+a[e].place_id+"' >"+a[e].formatted_address+"</div>"}return d}function getRandom(a,b){var c=Math.random()*(b-a)+a;return c}document.querySelector("#geolocation-submit").addEventListener("click",function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var b=a.coords.latitude,c=a.coords.longitude;httpRequest("GET","/api/geocode?latlng="+b+","+c,null,successGeolocation,null)})}),document.querySelector("#geolocation-submit-random").addEventListener("click",function(){var a=getRandom(-90,90),b=getRandom(-180,180);httpRequest("GET","/api/geocode?latlng="+a+","+b,null,successGeolocation,null)}),document.querySelector(".geocode").addEventListener("click",function(a){var b=a.target;switch(b.className){case"row":case"row selected":document.querySelectorAll("#"+b.parentElement.id+" .row.selected").forEach(function(a){a.classList.remove("selected")}),b.classList.toggle("selected");}}),document.querySelector("#creation").addEventListener("click",function(){var a=[],b="",c=[];document.querySelectorAll(".row.selected").forEach(function(d){c.push(d.dataset.country),b=d.dataset.code,a.push(JSON.parse(d.dataset.array))});var d={country:c,code:b,address:a};console.log(d),httpRequest("POST","/api/map/creation",JSON.stringify(d),successCreation,null)});