"use strict";function successGeolocation(a){console.log(a),document.querySelector("#geolocation-result-ko").value=JSON.stringify(a.ko,null,2),document.querySelector("#geolocation-result-en").value=JSON.stringify(a.en,null,2),document.querySelector("#geolocation-list-ko").innerHTML=getResultList(a.ko.results),document.querySelector("#geolocation-list-en").innerHTML=getResultList(a.en.results),document.querySelector("#creation").classList.remove("none")}function successCreation(){alert("Map was created")}function getResultList(a){var b,c,d="";for(var e in a){var f=[];for(var g in a[e].address_components)a[e].address_components[g].types.includes("postal_code")||(a[e].address_components[g].types.includes("country")&&(b=a[e].address_components[g].long_name,c=a[e].address_components[g].short_name),f.push("\""+a[e].address_components[g].long_name+"\""));d+="<div class='row' data-country='"+b+"' data-code='"+c+"'  data-array='["+f+"]' data-id='"+a[e].place_id+"' >"+a[e].formatted_address+"</div>"}return d}function getRandom(a,b){var c=Math.random()*(b-a)+a;return c}function tabChange(a){document.querySelectorAll("."+a.parentElement.className+" div").forEach(function(a){a.classList.remove("active"),document.querySelector("#"+a.className+"-area").classList.add("none")}),document.querySelector("#"+a.className+"-area").classList.remove("none"),a.classList.add("active")}document.querySelector(".admin").addEventListener("click",function(a){var b=a.target;switch(console.log(b.className),b.classList.item(0)){case"row":document.querySelectorAll("#"+b.parentElement.id+" .row.selected").forEach(function(a){a.classList.remove("selected")}),b.classList.toggle("selected");break;case"creation":case"destruction":tabChange(b);}switch(b.id){case"geolocation-submit-random":var c=getRandom(-90,90),d=getRandom(-180,180);httpRequest("GET","/api/geocode?latlng="+c+","+d,null,successGeolocation,null);break;case"geolocation-submit":navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var b=a.coords.latitude,c=a.coords.longitude;httpRequest("GET","/api/geocode?latlng="+b+","+c,null,successGeolocation,null)});break;case"creation":var e=[],f="",g=[];document.querySelectorAll(".row.selected").forEach(function(a){g.push(a.dataset.country),f=a.dataset.code,e.push(JSON.parse(a.dataset.array))});var h={country:g,code:f,address:e};console.log(h),httpRequest("POST","/api/map/creation",JSON.stringify(h),successCreation,null);}});