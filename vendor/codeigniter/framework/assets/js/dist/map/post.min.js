"use strict";var replyBox=document.querySelectorAll(".reply-button:not(.no):not(.yes)"),replyBoxNo=document.querySelectorAll(".reply-button.no"),replyBoxYes=document.querySelectorAll(".reply-button.yes");!function(){httpRequest("GET","/api/request/reply?info="+__URL__,null,refresh.bind(this),fail.bind(this))}();function replyTemplate(a,b,c){var d=document.createElement("li");return d.className="reply-container",d.innerHTML="<div class='reply-addon block' id='reply-"+a+"' name='reply-"+a+"'><input type='hidden' class='reply-no' value='"+a+"'/><input type='hidden' class='reply-mode' value='"+b+"'/><div class='reply-box' id='reply-box-"+a+"' placeholder='Leave a Message .. &#xf303;' contenteditable='true'>"+c+"</div><div class='reply-button-group'><div class='reply-button send to'>Reply on Message <span style='font-weight:900;transform: translate(.4rem,.1rem);'>&#xf11c;</span></div><div class='reply-button yes to'>Confirm</div><div class='reply-button no to'>Not Yet ..</div><div class='reply-button cancel'>Cancel</div></div>",+"</div>",d}function getReplyPaging(a){httpRequest("GET","/api/request/reply?info="+__URL__+"&page="+a,null,refresh.bind(this),fail.bind(this))}function replyBoxToggle(a){a?(this.style.display="none",this.nextSibling.style.display="initial",this.nextSibling.nextSibling.style.display="initial"):(this.style.display="none",this.previousSibling.style.display="none",this.previousSibling.previousSibling.style.display="initial")}document.querySelector("body").addEventListener("click",function(a){var b=a.target;if("BODY"===b.tagName)return!1;if("I"===b.tagName&&(b=b.parentElement),0===b.parentElement.className.search("reply-pagination")){var c=b.getAttribute("data");getReplyPaging(c)}var d,e,f="",g="POST",h=[];switch(b.className){case"reply enable":case"reply enable show":case"reply-modify enable":case"reply-modify enable show":d=b.parentElement.parentElement.parentElement.parentElement,e=d.querySelector("ul .no").innerHTML,b.classList.contains("reply-modify")&&(f=d.querySelector("ul .content .text").innerHTML,d.querySelector("ul").classList.toggle("hide"),g="UPDATE"),b.classList.toggle("show"),0===d.lastChild.className.search("reply-container")?(d.removeChild(d.lastChild),"UPDATE"==g&&d.appendChild(replyTemplate(e,g,f))):d.appendChild(replyTemplate(e,g,f));break;case"reply-delete enable":d=b.parentElement.parentElement.parentElement.parentElement,e=d.querySelector("ul .no").innerHTML,g="DELETE",h.push({info:__URL__,no:e}),httpRequest(g,"/api/request/reply",JSON.stringify(h),success.bind(this),fail.bind(this));break;case"reply-button cancel":var i=b.parentElement.parentElement.parentElement.parentElement;i.querySelector(".reply.enable").classList.remove("show"),i.querySelector("ul").classList.remove("hide"),i.removeChild(i.lastChild);break;case"reply-button send to":case"reply-button send":replyBoxToggle.call(b,!0);break;case"reply-button yes to":case"reply-button yes":d=b.parentElement.parentElement,e=d.querySelector(".reply-no").value,g=d.querySelector(".reply-mode").value,f=d.querySelector(".reply-box").innerHTML,h.push({info:__URL__,no:e,message:f}),httpRequest(g,"/api/request/reply",JSON.stringify(h),success.bind(this),fail.bind(this));break;case"reply-button no to":case"reply-button no":replyBoxToggle.call(b,!1);break;case"delete enable":h.push({info:__URL__,no:e}),httpRequest("delete","/api/request/post",JSON.stringify(h),successDelete.bind(this),fail.bind(this));}});function success(){httpRequest("GET","/api/request/reply?info="+__URL__,null,refresh.bind(this),fail.bind(this))}function successDelete(){alert("Post Remove successfully"),redirect("list")}function refresh(a){a&&(document.querySelector(".reply-root").innerHTML=a)}function fail(a){var b=document.querySelector("#login");b.setCustomValidity(a.responseText),b.reportValidity()}