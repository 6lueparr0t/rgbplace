"use strict";var params=new URLSearchParams(window.location.search),pswd=document.querySelector("#pswd"),conf=document.querySelector("#conf");function done(a){alert("\uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.\nDone !"),location.reload()}function fail(){alert("fail")}function validateName(a){var b=!1,c=/^(?=[^\s\x22\x27])(?!.*[\s\x22\x27]).{2,20}$/;return b=c.test((a+"").toLowerCase()),b}function validateEmail(a){var b=!1;if(400>a.length){var c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;b=c.test((a+"").toLowerCase())}return b}function passwordCheck(){this.value==pswd.value?this.setCustomValidity(""):this.setCustomValidity("\uD328\uC2A4\uC6CC\uB4DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.\nPlease Check your Password."),this.reportValidity()}window.onpopstate=function(a){return a.state?tabChange(a.state.tab):history.go(-1)};function tabChange(a){params.delete("page"),document.querySelectorAll(".tab div").forEach(function(a){a.classList.remove("active"),document.querySelector("#"+a.className+"-area").classList.add("none")}),document.querySelector("."+a).classList.add("active"),document.querySelector("#"+a+"-area").classList.remove("none")}document.querySelector("#profile").addEventListener("click",function(a){var b=a.target,c="",d="",e="",f=[];if("tab"==b.parentElement.className){var g={info:__URL__,tab:b.classList.item(0)},h={no:params.get("no")?"&no="+params.get("no"):"",page:params.get("page")?"&page="+params.get("page"):""};switch(g.tab){case"info":history.pushState({tab:g.tab},"","?tab="+g.tab+h.no),tabChange(g.tab);break;case"upload":case"post":case"reply":case"message":case"report":history.pushState({tab:g.tab},"","?tab="+g.tab+h.no+h.page),tabChange(g.tab),httpRequest("get","/api/request/profile?info="+g.info+"&tab="+g.tab+h.no+h.page,null,function(a){var b=document.querySelector("#"+g.tab+"-list"),c=document.querySelector("#"+g.tab+"-page");b.innerHTML=a.list?a.list:"",c.innerHTML=a.page?a.page:""},fail);}}if("profile-pagination"===b.parentElement.className){var i=b.getAttribute("data-tab"),j=b.getAttribute("data-page"),k=b.getAttribute("data-no")?b.getAttribute("data-no"):"";history.pushState({tab:i},"","?tab="+i+"&page="+j+"&no="+k),httpRequest("get","/api/request/profile?info="+__URL__+("&tab="+i+"&page="+j+"&no="+k),null,function(a){var b=document.querySelector("#"+i+"-list"),c=document.querySelector("#"+i+"-page");b.innerHTML=a.list,c.innerHTML=a.page},fail)}switch(b.id){case"save":if(validateName(document.querySelector("#name").value))c=document.querySelector("#name").value;else{alert("check your name style");break}if(null!=document.querySelector("#email"))if(validateEmail(document.querySelector("#email").value))d=document.querySelector("#email").value;else{alert("check your email pattern");break}if(pswd.value||conf.value)if(pswd.value!=conf.value){conf.reportValidity();break}else{if(0<pswd.value.length&&10>pswd.value.length||0<conf.value.length&&10>conf.value.length){pswd.setCustomValidity("\uD328\uC2A4\uC6CC\uB4DC\uB294 \uCD5C\uB300 10\uC790 \uC774\uC0C1 \uB123\uC5B4\uC8FC\uC138\uC694. Password must be at least 10 characters."),pswd.reportValidity();break}e=pswd.value}f.push({info:__URL__,no:params.get("no")?params.get("no"):0,name:c,email:d,pswd:e}),httpRequest("put","/api/request/profile/save",JSON.stringify(f),done,fail);break;case"cancel":back();break;case"delete":confirm("\uACC4\uC815\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uACC4\uC815 \uC0AD\uC81C \uC2DC, \uAC8C\uC2DC\uBB3C\uC740 \uB0A8\uC544\uC788\uC744 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \n Delete Your Account? your post & reply will be remain")&&(f.push({info:__URL__,tab:params.get("tab")?params.get("tab"):0,no:params.get("no")?params.get("no"):0}),httpRequest("delete","/api/request/profile",JSON.stringify(f),function(){alert("Bye Bye Badman !"),back()},fail));}}),conf&&conf.addEventListener("input",passwordCheck),!function(){var a=params.get("tab")?params.get("tab"):"info";document.querySelector("."+a).click()}();