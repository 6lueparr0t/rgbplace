#menu-toggle {
  display:none;

  @media screen and ($width-name : $target-width) {

    &:checked ~ #menu-button {

      & span:nth-child(1) {
        top: 18px;
        width: 0%;
        left: 50%;
      }

      & span:nth-child(2) {
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -o-transform: rotate(45deg);
        transform: rotate(45deg);
      }

      & span:nth-child(3) {
        -webkit-transform: rotate(-45deg);
        -moz-transform: rotate(-45deg);
        -o-transform: rotate(-45deg);
        transform: rotate(-45deg);
      }

      & span:nth-child(4) {
        top: 18px;
        width: 0%;
        left: 50%;
      }
    }

    &:checked ~ #menu {
      display:block;
    }
  }
}

#menu-button {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;

  -webkit-transform: rotate(0deg);
  -moz-transform: rotate(0deg);
  -o-transform: rotate(0deg);
  transform: rotate(0deg);

  -webkit-transition: .5s ease-in-out;
  -moz-transition: .5s ease-in-out;
  -o-transition: .5s ease-in-out;
  transition: .5s ease-in-out;

  display:none;
  left: 87.5%;
  cursor: pointer;
  width: 2rem;
  height: 3rem;

  & span {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);

    -webkit-transition: .25s ease-in-out;
    -moz-transition: .25s ease-in-out;
    -o-transition: .25s ease-in-out;
    transition: .25s ease-in-out;

    height: 0.2rem;
    width: 100%;
    background: $oc-gray-9;
    position:absolute;
    border-radius: 10rem;
    opacity: 1;
    left: 0;
  }

  & span:nth-child(1) {
    top: 0;
  }

  & span:nth-child(2), & span:nth-child(3) {
    top: 1rem;
  }

  & span:nth-child(4) {
    top: 2rem;
  }

  @media screen and ($width-name : $target-width) {
    display: grid;
    position: absolute;
    top: 5rem;
  }

}

#menu {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;

  background: $oc-gray-3;
  padding: 0;
  margin: 0 0 1rem 0;
  list-style-type: none;
  width: 100%;
  display: flex;
  font-size:1.5rem;

  @media screen and ($width-name : $target-width) {
    display: none;
  }

  label, a {
    /*float:left;*/
    flex          : 1;
    background    : $oc-gray-3;
    color         : $oc-gray-9;
    text-align    : center;
    padding       : 1.5rem 0;
    display       : block;
    position      : relative;
    cursor        : pointer;
	border-bottom : 1px solid $oc-gray-6;

    &:hover {
      background: $oc-gray-7;
      color: $oc-gray-0;
    }

    input[type='checkbox'] {
      display:none;

      & ~ .open {
        display:none;
      }

      & ~ .close {
        display:initial;
        position:absolute;
        left:85%;

        @media screen and ($width-name : $target-width) {
          left:70%;
        }
      }

      &:checked ~ .close {
        display:none;
      }

      &:checked ~ .open {
        display:initial;
        position:absolute;
        left:85%;

        @media screen and ($width-name : $target-width) {
          left:70%;
        }
      }

      &:checked ~ ul {
        left: 0;
        padding: 0;
        width: 100%;
        display: block;
        font-size: 0.8rem;
        position:absolute;
		top:100%;
        @media screen and ($width-name : $target-width) {
          top:1.55rem;
          position:relative;
		  z-index:1;
        }

		label:first-child {
		  border-top:1px solid $oc-gray-6;
		}

        label {
          background: $oc-gray-4;
          display: block;
          padding: 1rem 0;

          @media screen and ($width-name : $target-width) {
            top: 0;
          }

          &:hover {
            background: $oc-gray-8;
            color: $oc-gray-0;
          }

          input[type='checkbox'] {
            &:checked ~ ul {
              left: 100%;
              top: 0;
              padding: 0;
              width: 100%;
              display: block;
              z-index: 1;

              @media screen and ($width-name : $target-width) {
                left: 0;
                top: 1rem;
                position:relative;
              }

              a {
                padding: 0;
                li {
                  background: $oc-gray-5;

                  &:hover {
                    background: $oc-gray-9;
                    color: $oc-gray-0;
                  }
                }
              }

            }
          }

          ul {
            position: absolute;
            display: none;
            list-style-type: none;

            @media screen and ($width-name : $target-width) {
              top:1rem;
              position:relative;
            }
          }
        }

      }
    }

    &:last-child {
      input[type='checkbox'] {
        &:checked ~ ul {
          label {
            input[type='checkbox'] {
              &:checked ~ ul {
                left: -100%;
              }
            }
          }
        }
      }
    }

  }


  li {
    /*float:left;*/
    flex: 1;
    background: $oc-gray-3;
    text-align: center;
    padding: 1rem 0;
    display: block;
    color : $oc-gray-9;

    &:hover {
      position: relative;
      background: $oc-gray-5;
      color : $oc-gray-0;

    }

  }

  ul {
    position: absolute;
    display: none;
    list-style-type: none;
  }
}
