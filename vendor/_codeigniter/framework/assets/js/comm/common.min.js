"use strict";var onUnload=function(){event.returnValue=1};
"use strict";function mapSearch(e){var r=new XMLHttpRequest,t="",s="",o=0;r.open("get","/map/search?keyword="+e.value,!0),r.onload=function(){if(this.status>=200&&this.status<400){if(s=JSON.parse(this.response),void 0!=s.code&&(o=s.code.length),0!=o){t+="<ul>";for(var e=0;e<o;e++)t+="<a href='/"+s.code[e]+"'><li>"+s.country[e]+" > "+s.place[e]+"</li></a>";t+="</ul>"}else t="No Results";console.log(t),document.querySelector("#map-search-result").innerHTML=t}else document.querySelector("#map-search-result").innerHTML="No Results"},r.onprogress=function(){},r.onerror=function(){},r.send()}var searchBtn=document.querySelector("#map-search-button"),searchBox=document.querySelector("#map-search-box");searchBtn&&searchBtn.addEventListener("click",function(){mapSearch(searchBox)}),searchBox&&searchBox.addEventListener("keypress",function(e){"13"==e.keyCode&&mapSearch(this)});
"use strict";function signInCheck(n){var s=new FormData(n),t=new XMLHttpRequest,e="";t.open("post","/sign/in/check",!0),t.onload=function(){this.status>=200&&this.status<400&&(e=JSON.parse(this.response),e.valid?n.submit():alert(e.msg))},t.onprogress=function(){},t.onerror=function(){},t.send(s)}var signin=document.querySelector("#sign-in");signin&&signin.addEventListener("submit",function(){event.preventDefault(),signInCheck(signin)});